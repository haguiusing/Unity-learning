[Lesson5_CallFunction](file:///D:/Obsidian%20Unity/Unity/%E7%83%AD%E6%9B%B4%E6%96%B0%E6%96%B9%E6%A1%88/Assets/Scripts/CSCallLua/Lesson5_CallFunction.cs)

![[Pasted image 20250530161059.png]]
### 无参无返回的获取
![[Pasted image 20250530155118.png]]
- 自定义无参无返回值的委托
	public delegate void CustomCall();
- Unity自带委托——UnityAction
- C#提供的委托——Action
- Xlua提供的一种 获取函数的方式 少用——LuaFunction

### 有参有返回的获取
![[Pasted image 20250530155132.png]]
- 自定义有参有返回的委托：
	\[CSharpCallLua\]public delegate int CustomCall2(int a);
- C#自带的泛型委托 方便我们使用—— Func<int, int> sFun
- Xlua提供的委托——LuaFunction

### 多返回值——使用 out 和 ref 来接收
![[Pasted image 20250530155142.png]]
- 自定义有参多返回值的委托：
[CSharpCallLua]
public delegate int CustomCall3(int a, out int b, out bool c, out string d, out int e);
[CSharpCallLua]
public delegate int CustomCall4(int a, ref int b, ref bool c, ref string d, ref int e);
委托的返回值类型与Lua函数的第一个返回值一致，后续返回值使用out 和 ref 来接收
- Xlua提供的委托——LuaFunction

注：使用[CSharpCallLua]特性需要生成代码
![[Pasted image 20250530155526.png]]

### 变长参数
![[Pasted image 20250530155200.png]]
- 自定义变长参数的委托：
[CSharpCallLua]
public delegate void CustomCall5(string a, params int[] args);//变长参数的类型 是根据实际情况来定的
- Xlua提供的委托——LuaFunction