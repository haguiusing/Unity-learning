![[Pasted image 20250601164055.png]]

`BuildFromCLI` 是一个示例项目，它展示了如何使用命令行从 Unity 编辑器外部构建项目。这个示例是 XLua 框架的一部分，XLua 是一个用于在 Unity 中嵌入 Lua 脚本的插件。通过 `BuildFromCLI`，开发者可以在不打开 Unity 编辑器的情况下，通过命令行自动化构建流程，这有助于简化持续集成和部署过程。

具体来说，`BuildFromCLI` 包含以下几个关键步骤：

1. **配置 `build.bat` 文件**：这个批处理文件包含了构建过程中需要的路径和参数，如 Unity 编辑器的路径、项目路径、日志文件路径等。它还确保日志目录存在，并调用 Unity 编辑器以批处理模式执行构建。
    
2. **C# 脚本 `BuildFromCLI.cs`**：这个脚本位于 Unity 项目的 `Editor` 文件夹下，它定义了一个菜单项和 `Build` 方法。菜单项允许开发者从 Unity 编辑器内部触发构建过程，而 `Build` 方法则执行实际的构建逻辑，包括生成代码、清理旧的生成文件、构建播放器等。
    
3. **打包测试**：在完成上述步骤后，开发者可以通过运行 `build.bat` 文件来测试构建过程。如果一切配置正确，Unity 将会在指定的输出目录中生成构建好的可执行文件。
    

这个示例对于希望自动化构建流程的开发者来说非常有用，因为它允许他们在没有 Unity 编辑器界面的情况下构建项目，从而可以更容易地集成到自动化构建系统中。