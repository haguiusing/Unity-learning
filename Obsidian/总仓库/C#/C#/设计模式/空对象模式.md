## 空对象模式


模式结构：
- AbstractObject：抽象对象
- ConcreteObject：具体对象
- NullObject：空对象

空对象模式包含以下几个主要角色：
- **抽象对象（Abstract Object）**：定义了客户端所期望的接口。这个接口可以是一个抽象类或接口。
- **具体对象（Concrete Object）**：实现了抽象对象接口的具体类。这些类提供了真实的行为。
- **空对象（Null Object）**：实现了抽象对象接口的空对象类。这个类提供了默认的无效行为，以便在对象不可用或不可用时使用。它可以作为具体对象的替代者，在客户端代码中代替空值检查。

![[Pasted image 20250425154136.jpg]]

1. `AbstractCustomer` 类：抽象对象，定义了客户的基本行为
2. `RealCustomer` 类：具体对象，实现了抽象类并提供实际的客户数据
3. `NullCustomer` 类：空对象，提供了默认的行为和数据表示
4. `CustomerFactory` 类：客户工厂，根据名字返回具体的客户对象，如果是已知客户则返回 `RealCustomer`，否则返回 `NullCustomer`
5. `NullPatternDemo` 类：客户类，演示如何使用空对象模式

```cs
using System;

// AbstractObject: 抽象对象
public abstract class AbstractCustomer
{
    protected string name;

    public abstract bool IsNil();
    public abstract string GetName();
}

// ConcreteObject: 具体对象
public class RealCustomer : AbstractCustomer
{
    public RealCustomer(string name)
    {
        this.name = name;
    }

    public override string GetName()
    {
        return name;
    }

    public override bool IsNil()
    {
        return false;
    }
}

// NullObject: 空对象
public class NullCustomer : AbstractCustomer
{
    public override string GetName()
    {
        return "Not Available in Customer Database";
    }

    public override bool IsNil()
    {
        return true;
    }
}

// CustomerFactory: 客户工厂
public class CustomerFactory
{
    public static readonly string[] names = { "Rob", "Joe", "Julie" };

    public static AbstractCustomer GetCustomer(string name)
    {
        foreach (string n in names)
        {
            if (n.Equals(name, StringComparison.OrdinalIgnoreCase))
            {
                return new RealCustomer(name);
            }
        }
        return new NullCustomer();
    }
}

// Client: 客户类
public class NullPatternDemo
{
    public static void Main(string[] args)
    {
        AbstractCustomer customer1 = CustomerFactory.GetCustomer("Rob");
        AbstractCustomer customer2 = CustomerFactory.GetCustomer("Bob");
        AbstractCustomer customer3 = CustomerFactory.GetCustomer("Julie");
        AbstractCustomer customer4 = CustomerFactory.GetCustomer("Laura");

        Console.WriteLine("Customers");
        Console.WriteLine(customer1.GetName());
        Console.WriteLine(customer2.GetName());
        Console.WriteLine(customer3.GetName());
        Console.WriteLine(customer4.GetName());
    }
}
```

执行该程序后，输出结果：
``` cs
Customers
Rob
Not Available in Customer Database
Julie
Not Available in Customer Database
```
