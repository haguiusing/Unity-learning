
![[Pasted image 20240924234603.png]]
![[Pasted image 20240924234653.png]]
![[Pasted image 20240924234711.png]]

| **Curves** | 展开此部分以管理[此动画剪辑的动画曲线](https://docs.unity3d.com/cn/current/Manual/AnimationCurvesOnImportedClips.html)。 |
| ---------- | ----------------------------------------------------------------------------------------------------- |
| **Events** | 展开此部分可管理[此动画剪辑的动画事件](https://docs.unity3d.com/cn/current/Manual/script-AnimationWindowEvent.html)。    |
| **Mask**   | 展开此部分以管理[此动画剪辑的 Avatar 遮罩](https://docs.unity3d.com/cn/current/Manual/class-AvatarMask.html)。         |
## 曲线

您可以在 [Animation 选项卡](https://docs.unity3d.com/cn/current/Manual/class-AnimationClip.html)中将动画曲线附加到导入的动画剪辑。

可以使用这些曲线将其他动画数据添加到导入的剪辑。可以根据animator的状态，使用该数据来动画化其他项的时序。例如，在冰冷环境的游戏中，可以使用额外的动画曲线来控制粒子系统的发射速率，以显示玩家在冷空气中的冷凝呼吸。

要向导入的动画添加曲线，请展开 [Animation 选项卡](https://docs.unity3d.com/cn/current/Manual/class-AnimationClip.html)底部的 **Curves** 部分，然后单击加号图标以向当前动画剪辑添加新曲线：

![Animation 选项卡上展开的 Curves 部分](https://docs.unity3d.com/cn/current/uploads/Main/classAnimationClip-Curves.png)

Animation 选项卡上展开的 Curves 部分

如果导入的动画文件被拆分为多个动画剪辑，则每个剪辑都可以拥有自己的自定义曲线。

![导入的动画剪辑上的曲线](https://docs.unity3d.com/cn/current/uploads/Main/MecanimCurves.png)

导入的动画剪辑上的曲线

曲线的 X 轴表示_标准化时间_，范围始终在 0.0 和 1.0 之间（无论持续时间如何，均分别对应于动画剪辑的开头和结尾）。

![Unity 曲线编辑器](https://docs.unity3d.com/cn/current/uploads/Main/CurveEditorPopupDescr.png)

Unity 曲线编辑器

**(A)** 包裹模式

**(B)** 曲线预设

双击动画曲线将显示[标准 Unity 曲线编辑器](https://docs.unity3d.com/cn/current/Manual/EditingCurves.html)，可以使用该编辑器向曲线添加__关键点**。关键点（Keys）是沿着曲线时间轴上的点，其具有 Animator 明确设置的值，而不是仅使用插值。关键点（Keys）非常适合用于沿着动画时间轴标记重要的点。例如，对于行走动画，可以使用关键点来标记左脚在地面上的位置点，然后是双脚在地面上的位置点，右脚在地面上的位置点，依此类推。设置好关键点后，通过按** Previous Key Frame__ 和 **Next Key Frame** 按钮即可方便地在关键帧之间移动。这样就会移动垂直的红线并显示关键帧的_标准化时间_。在文本框中输入的值将在此时间驱动曲线值。

## 动画曲线和 Animator Controller 参数

如果一条曲线的名称与 [Animator Controller](https://docs.unity3d.com/cn/current/Manual/Animator.html) 中的某个[参数](https://docs.unity3d.com/cn/current/Manual/AnimationParameters.html)同名，则该参数的值将取自这条曲线在时间轴中每个点的值。例如，如果从脚本调用 [GetFloat](https://docs.unity3d.com/cn/current/ScriptReference/Animator.GetFloat.html)，则返回的值等于进行调用时的曲线值。请注意，在任何给定的时间点，可能有多个动画剪辑试图设置同一控制器中的同一参数。在这种情况下，Unity 会混合多个动画剪辑中的曲线值。如果动画没有特定参数对应的曲线，则 Unity 将与该参数的默认值混合。
## Properties for all clips

These expandable properties apply to all Animation clips being imported.

![Import options for all Animation clips](https://docs.unity3d.com/cn/current/uploads/Main/classAnimationClip-Inspector_AllClips.png)
所有动画剪辑的导入选项

| **属性：**             | **功能：**                                                                                                                                                  |
| ------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Motion**          | 展开此部分可管理[所有导入剪辑的根运动节点](https://docs.unity3d.com/cn/current/Manual/AnimationRootMotionNodeOnImportedClips.html)。                                          |
| **Import Messages** | 展开此部分可查看[有关如何导入动画的详细信息](https://docs.unity3d.com/cn/current/Manual/class-AnimationClip.html#ImportMessages)，包括可选的_重定向质量报告 (Retargeting Quality Report)_。 |

## 动画导入警告

如果在动画导入过程中出现任何问题，动画导入检视面板 (Animations Import Inspector) 顶部会显示警告：

![动画导入警告消息](https://docs.unity3d.com/cn/current/uploads/Main/AnimationWarningBox.png)
动画导入警告消息

这些警告并不一定意味着您的动画未导入或不正常。可能仅表示导入的动画与源动画看起来略有不同。

要查看更多信息，请展开 **Import Messages** 部分：

![动画导入警告消息](https://docs.unity3d.com/cn/current/uploads/Main/AnimationWarningSection.png)
动画导入警告消息

在这种情况下，Unity 提供了 **Generate Retargeting Quality Report** 选项，通过启用该选项可以查看有关重定向问题的更多具体信息。

您可能会看到的其他警告详细信息包括：

- 此文件中的默认骨骼长度与源 Avatar 中的值不同。
- 此文件中的中间骨骼默认旋转与源 Avatar 中的值不同。
- 源 Avatar 层级视图与此模型中的层级视图不匹配。
- 此动画具有将被丢弃的平移动画。
- 人形动画具有将被丢弃的中间变换和旋转。
- 此动画具有将被丢弃的缩放动画。

这些消息表明 Unity 导入动画并将其转换为自己的内部格式时忽略了原始文件中的某些数据。这些警告实质上告诉您重定向的动画可能与源动画不完全匹配。

**注意：**Unity 不支持除**常量 (constant)** 以外的前外推 (pre-extrapolate) 和后外推 (post-extrapolate) 模式（也称为前无限 (pre-infinity) 和后无限 (post-infinity) 模式），因此会在导入时将这些模式转换为**常量**。