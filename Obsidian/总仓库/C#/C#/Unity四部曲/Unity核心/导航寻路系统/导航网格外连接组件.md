[导航网格外连接组件](file:///D:/Obsidian%20Unity/Unity/Unity%E5%9B%9B%E9%83%A8%E6%9B%B2/Assets/Scripts/Unity%C2%B7%E6%A0%B8%E5%BF%83/%E5%AF%BC%E8%88%AA%E5%AF%BB%E8%B7%AF%E7%B3%BB%E7%BB%9F/Lesson59_%E5%AF%BC%E8%88%AA%E7%BD%91%E6%A0%BC%E5%A4%96%E8%BF%9E%E6%8E%A5%E7%BB%84%E4%BB%B6.cs)
![[Pasted image 20240927004119.png]]
# OffMeshLink（网格外链接）

OffMeshLink 组件允许您合并无法使用可行走表面表示的导航快捷方式。例如，跳过沟渠或栅栏，或在穿过门之前打开门，都可以描述为 OffMesh 链接。

## 属性

![](https://docs.unity3d.com/cn/current/uploads/Main/OffMeshLink.png)

|属性|功能|
|---|---|
|**开始**|描述 OffMesh Link 的开始位置的对象。|
|**结束**|描述 OffMesh Link 结束位置的对象。|
|**成本覆盖**|如果 value 为正数，则在计算处理路径请求的路径成本时使用它。否则，将使用默认成本 （此游戏对象所属区域的成本）。如果 Cost Override 设置为值 3.0，则在 OffMesh 链接上移动的成本将是默认导航网格区域上移动相同距离的三倍。当您希望使代理通常倾向于步行，但当步行距离明显更长时使用 OffMesh 链接时，成本覆盖将变得非常有用。|
|**双向**|如果启用此属性，则可以在任一方向上遍历链接。 否则，只能按照从 _Start_ 到 _End_ 的方向遍历链接。|
|**激活**|指定寻路器 (pathfinder) 是否将使用此链接（如果将此属性设置为 false，则将忽略它）。|
|**自动更新位置**|启用后，当端点移动时，OffMesh 链接将重新连接到 NavMesh。如果禁用，则即使端点移动，链接也将保持在其起点位置。|
|**导航区**|描述链接的[导航区域类型](https://docs.unity3d.com/cn/current/Manual/nav-AreasAndCosts.html)。区域类型允许您将通用遍历成本应用于类似的区域类型，并防止某些角色根据代理的区域掩码访问 OffMesh Link。|

## 详细信息

![](https://docs.unity3d.com/cn/current/uploads/Main/OffMeshLinkDebug.svg)

如果代理不遍历 OffMesh 链接，请确保两个端点都已正确连接。正确连接的端点应在接入点周围显示一个圆圈。

另一个常见原因是 Navmesh Agent 的 _Area Mask_ 不包含 OffMesh Link 的区域。

### 阅读更多信息

- [创建网格外链接](https://docs.unity3d.com/cn/current/Manual/nav-CreateOffMeshLink.html) – 设置和网格外链接的工作流程。
- [自动构建网格外链接](https://docs.unity3d.com/cn/current/Manual/nav-BuildingOffMeshLinksAutomatically.html) - 如何自动创建。
- [OffMesh Link 脚本参考](https://docs.unity3d.com/cn/current/ScriptReference/AI.OffMeshLink.html) - OffMesh Link 脚本 API 的完整描述。