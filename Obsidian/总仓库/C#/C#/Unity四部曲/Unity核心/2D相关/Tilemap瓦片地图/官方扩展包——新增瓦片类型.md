[官方扩展包——新增瓦片类型](file:///D:/Obsidian%20Unity/Unity/Unity%E5%9B%9B%E9%83%A8%E6%9B%B2/Assets/Scripts/Unity%C2%B7%E6%A0%B8%E5%BF%83/2D%E7%9B%B8%E5%85%B3/Tilemap%E7%93%A6%E7%89%87%E5%9C%B0%E5%9B%BE/Lesson25_%E5%AE%98%E6%96%B9%E6%89%A9%E5%B1%95%E5%8C%85_%E6%96%B0%E5%A2%9E%E7%93%A6%E7%89%87%E7%B1%BB%E5%9E%8B.cs)
部分瓦片类型在1.5版本后移除
# 1.规则瓦片 Rule Tile (Hexagonal、Isometric)
Default Sprite：默认图片 
Default GameObject ：默认游戏对象 
Default Collider：默认碰撞器规则 
Tiling Rules：平铺规则 可以自己添加删除

**贡献者：** [johnsoncodehk](https://github.com/johnsoncodehk)， [DreadBoy](https://github.com/DreadBoy)， [AVChemodanov](https://github.com/AVChemodanov)， [DoctorShinobi](https://github.com/DoctorShinobi)， [n4n0lix](https://github.com/n4n0lix)

这是其他瓦片（如 [Terrain Tiles](https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@3.0/manual/TerrainTile.md)、[Pipeline Tile](https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@3.0/manual/PipelineTile.md)、[Random Tile](https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@3.0/manual/RandomTile.md) 或 [Animated Tiles](https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@3.0/manual/AnimatedTile.html)）所基于的通用视觉瓦片。每种 [Tilemap 网格类型](https://docs.unity3d.com/Manual/class-Grid.html)都有特定类型的 Rule Tiles。默认 Rule Tile 适用于默认的 [Rectangle Grid](https://docs.unity3d.com/Manual/Tilemap-CreatingTilemaps.html) 类型;Hexagonal Rule Tile 用于 [Hexagonal Grid](https://docs.unity3d.com/Manual/Tilemap-Hexagonal.html) 类型;Isometric Rule Tile 用于[等轴测网格](https://docs.unity3d.com/Manual/Tilemap-Isometric.html)类型。不同类型的规则切片都具有相同的属性。

## 性能

![](https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@3.0/manual/images/RuleTileEditor.png)  
Terrain Tile 的 Rule Tile 编辑器。

|财产|功能|
|---|---|
|**默认精灵**|创建新 Rule 时设置的默认 Sprite。|
|**默认游戏对象**|创建新规则时设置的默认游戏对象。|
|**默认碰撞器**|创建新规则时设置的默认 Collider Type（碰撞体类型）。|

### 平铺规则

![](https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@3.0/manual/images/RuleTileRule.png)  
Tiling Rules 属性

|财产|功能|
|---|---|
|**统治**|此规则的规则类型。|
|**游戏对象**|符合此规则的 Tile 的 GameObject。|
|**碰撞器**|符合此规则的 Tile 的 Collider Type|
|**输出**|符合此规则的 Tile 的 Output。每个 Output 类型都有自己的属性。|

### 输出：固定

|财产|功能|
|---|---|
|**精灵**|为符合此规则的瓦片显示此 Sprite。|

### 输出：随机

|财产|功能|
|---|---|
|**噪声**|这[柏林噪声](https://en.wikipedia.org/wiki/Perlin_noise)因素。|
|**洗牌**|放置 Tile 时为其指定的随机转换。|
|**大小**|要从中随机化的 Sprite 数量。|
|**精灵**|符合此规则的 Tile 的 Sprite。在放置 Tile 时，将从中选择一个随机 Sprite。|

### 输出：动画

|财产|功能|
|---|---|
|**MinSpeed**|播放动画的最小速度。|
|**最大速度**|播放动画的最大速度。|
|**大小**|动画中 Sprite 的数量。|
|**精灵**|符合此规则的 Tile 的 Sprite。Sprite 将根据列表的顺序按顺序显示。|

## 编辑器属性

|财产|功能|
|---|---|
|**扩展相邻要素**|启用此选项后，您可以增加 3x3 框之外的邻居范围。|

## 设置规则拼贴

使用 **Rule Tile 编辑器**设置具有所需规则的 Rule Tile。在 Rule Tile 编辑器中，您可以更改、添加、复制或删除 **Tiling Rules** 列表中的 Rules。单击 + 或 - 按钮以添加或删除 Rules。如果您选择了 规则，单击 + 按钮将允许您选择添加新规则或复制所选规则。新创建的 Rule 将放置在当前选定的 Rule 之后。选择并按住每行的左上角以向上或向下拖动它们，以更改 Rules 在列表中的顺序。

![](https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@3.0/manual/images/RuleTileEditor.png)  
规则平铺编辑器

添加新规则时，规则编辑器将显示以下内容：规则属性列表、一个 3x3 框（用于可视化已设置规则的行为）以及一个 Sprite 选择器（用于显示所选 Sprite 的预览）。

![](https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@3.0/manual/images/RuleTileRule.png)

3x3 框表示 Tile 可以具有的相邻方块，其中中心表示 Tile 本身，八个边界单元格是其与 Tile 的相对位置的相邻方块。每个相邻的单元格都可以使用以下三个选项之一进行**设置：Don't Care、****This** 和 **Not This**。这些定义规则拼贴对这些拼贴的行为。编辑 3x3 框以设置 Tile 必须匹配的规则。

|选项|规则拼贴行为|
|---|---|
|**不在乎**|的 Rule Tile 会忽略此单元格中的内容。|
|**这**|的 Rule Tile 检查此单元格的内容是否是此 Rule Tile 的实例。如果它是一个实例，则规则通过。如果不是实例，则规则失败。|
|**不是这个**|的 Rule Tile 检查此单元格的内容是否不是此 Rule Tile 的实例。如果不是实例，则规则通过。如果它是一个实例，则规则失败。|

如果 Rule Tile 的所有相邻要素都与为其各自方向设置的选项匹配，则 Rule 将被视为匹配，并应用其余 Rule 属性。

当 Rule 设置为 Fixed 时，该 Rule 将仅匹配为其相邻项设置的条件。以下示例仅在左侧和右侧有相同的 Rule Tiles 时匹配。

![Rule Tile with Fixed Rule](https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@3.0/manual/images/RuleTileRuleFixed.png)

当规则设置为“旋转”时，每次规则不匹配时，3x3 框都会旋转 90 度，并且它将尝试再次匹配这个旋转的 3x3 框。如果 规则 现在匹配，则将应用此 规则 的内容以及匹配规则所需的旋转。如果您希望 Rule 匹配 4 次 90 度旋转（如果可以旋转），请使用此选项。

![Rule Tile with Rotated Rule](https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@3.0/manual/images/RuleTileRuleRotated.png)

当规则设置为镜像 X、镜像 Y 或镜像 XY 时，每次规则不匹配时，3x3 框都将在该轴上镜像，并且它将尝试再次匹配此镜像的 3x3 框。如果 Rule 现在匹配，则将应用此 Rule 的内容以及匹配 Rule 所需的镜像。如果您希望 Rule 与镜像位置匹配（如果可以进行镜像），请使用此选项。

![Rule Tile with Mirror XY Rule](https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@3.0/manual/images/RuleTileRuleMirror.png)

如果希望 规则拼贴 具有 Random 输出，则可以将 Output 设置为 Random。这将允许您指定要从中随机化的输入 Sprite 数量。精灵的旋转也可以通过更改 **Shuffle** 属性来随机化。

![Rule Tile with Random Output](https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@3.0/manual/images/RuleTileOutputRandom.png)

如果希望 Rule Tile 输出 Sprite Animation，则可以将 Output （输出） 设置为 Animation。这将允许您指定要按顺序进行动画处理的 Sprite 数量。动画的速度也可以通过更改 **Speed** 属性来随机化。

![Rule Tile with Animation Output](https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@3.0/manual/images/RuleTileOutputAnimation.png)

启用 **Extend Neighbors** 后，可以扩展 3x3 框以允许更具体的邻居匹配。Transform 规则匹配（例如。Rotated， Mirror） 将应用于扩展相邻要素集。

![Rule Tile with Animation Output](https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@3.0/manual/images/RuleTileRuleExtendNeighbor.png)

使用 Tile Palette 工具，以与其他 Tile 相同的方式使用 Rule Tile 进行绘制。

![Scene View with Rule Tile](https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@3.0/manual/images/RuleTile.png)

为了进行优化，请在 Rules 列表的顶部设置 most common Rule，然后依次设置下一个最常见的 Rule，依此类推。在放置 Tile 期间匹配 Rules 时，Rule Tile 算法将首先检查第一个 Rule，然后再继续执行下一个 Rules。

# 2.动画瓦片 Animated Tile
Number Of Animated Sprites：动画有多少张图构成 
Minimum Speed：最小播放速度 
Maximum Speed：最大播放速度 
Start Time：开始播放的时间 
Strat Frame：从那一帧开始播放

**供稿人：**马赫迪马祖尼

Animated Tile 运行并按顺序显示 Sprite 列表，以创建逐帧动画。

![](https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@3.0/manual/images/AnimatedTileEditor.png)  
Animated Tile editor 窗口

### 性能

|财产|功能|
|---|---|
|**动画精灵数**|动画图块中动画精灵的数量。|
|**Sprite 列表**|该列表显示此动画图块的动画的当前 Sprite 顺序，该动画按顺序播放。通过选择 Sprite 预览右下角的 **Select** 按钮，然后从对话框中选择 Sprite 来设置 Sprite。选择并按住每个 Sprite 旁边的 **=** 以重新排序它们在动画序列中的位置。|
|**最小速度**|播放 Tile 的 Animation 的最小可能速度。将在最小速度和最大速度之间随机选择速度值。|
|**最大速度**|播放 Tile 的 Animation 的最大可能速度。将在最小速度和最大速度之间随机选择速度值。|
|**开始时间**|此动画图块的开始时间。这允许您从特定时间启动 Animation。|
|**开始帧**|此 Animated Tile 的起始帧。这允许从 Animated Sprite 列表中的特定 Sprite 启动 Animation。|
|**碰撞器类型**|这[碰撞器](https://docs.unity3d.com/Manual/Collider2D.html)形状。|

### 用法

通过在 Animated Tile 编辑器中选择并排序构成其动画序列的 Sprite 来创建动画瓦片，然后使用 [Tile Palette 工具](https://docs.unity3d.com/Manual/Tilemap-Painting.html)绘制动画瓦片。

![](https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@3.0/manual/images/AnimatedTile.png)  
Game 视图，使用 [Group Brush](https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@3.0/manual/GroupBrush.html) 绘制。

# 3.管道瓦片 Pipeline Tile
None：一个都不相邻时使用的图片 
One——Four：相邻1~4个时使用的图片
![Pipeline Tile Editor](https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@1.5/manual/images/PipelineTileEditor.png)
![Scene View with Pipeline Tile](https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@1.5/manual/images/PipelineTile.png)
# 4.随机瓦片 Random Tile
Number Of Sprites：随机图片数量（之后会随机取一个图片来使用）

![Random Tile Editor](https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@1.5/manual/images/RandomTileEditor.png)
![Scene View with Random Tile](https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@1.5/manual/images/RandomTile.png)
# 5.地形瓦片 TerrainTile
Filled:填满 
Three Sides:三个面 
Two Sides and One Corner:两面一角 
Two Adjacent Sides:相邻两侧 
Two Opposite Sides:两个相对的侧面 
One Side and Two Corners:一侧和两个角 
One Side and One Upper Corner:一边和上角 
One Side:一面 
Four Corners:四个角 
Three Corners:三个角 
Two Adjacent Corners:两个相邻角 
Two Opposite Corners：两个相反的角 
One Corner：一个角 
Empty：空
![[Pasted image 20240921165516.png]]
![[Pasted image 20240921165526.png]]

# 6.权重随机瓦片 WeightedRandomTile
![Weighted Random Tile Editor](https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@1.5/manual/images/WeightedRandomTileEditor.png)
![Scene View with Weighted Random Tile](https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@1.5/manual/images/WeightedRandomTile.png)

# 7.（高级）规则覆盖瓦片 (Advanced)Rule Override Tile
## Properties

| Property | 功能        |
| -------- | --------- |
| **Tile** | 要覆盖的规则拼贴。 |
根据被覆盖的 Rule Tile，您可以在此处覆盖更多属性。规则拼贴中任何没有属性的公共属性都将在此处显示，并且可以被覆盖。`RuleTile.DontOverride`
## 用法

首先，在 **Tile** 属性中选择要覆盖的 Rule Tile。然后，Editor 会在选定的 Rule Tile 中显示不同的精灵和游戏对象，您可以覆盖这些 Sprite 和游戏对象。

编辑器将在左列显示 Rule Tile 中使用的原始 Sprite。在右侧的 'Override' 列中选择覆盖每个相应原始 Sprite 的 Sprite。当 Rule Tile 具有通常会输出原始 Sprite 的匹配项时，它将改为输出覆盖 Sprite。

在此下方，编辑器会在左列显示 Rule Tile 中使用的原始游戏对象。在右侧的 “Override” 列中选择覆盖每个相应原始游戏对象的游戏对象。当 Rule Tile 具有通常会输出原始游戏对象的匹配项时，它将改为输出覆盖游戏对象。

![规则覆盖瓦片编辑器](https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@3.1/manual/images/RuleOverrideTileEditor.png)

如果您修改了原始 Rule Tile 并更改了其中的 Sprite，则 Rule Override Tile 将注意到原始 Sprite 缺失。您可以检查原始 Rule Tile 以查看它是否设置正确，或者将 Override Sprites 设置为 None 以删除覆盖。

![缺少原始精灵的规则覆盖瓦片编辑器](https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@3.1/manual/images/RuleOverrideTileEditorMissing.png)

使用 [Tile Palette](https://docs.unity3d.com/Manual/Tilemap-Painting.html) 工具使用 Rule Override Tile 进行绘制。

![带有 Rule Override 平铺的 Scene 视图](https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@3.1/manual/images/RuleOverrideTile.png)

# 8.自定义规则瓦片 CustomRuleTile
[自定义规则瓦片 CustomRuleTile](file:///D:/Obsidian%20Unity/Unity/Unity%E5%9B%9B%E9%83%A8%E6%9B%B2/Assets/Scripts/Unity%C2%B7%E6%A0%B8%E5%BF%83/2D%E7%9B%B8%E5%85%B3/Tilemap%E7%93%A6%E7%89%87%E5%9C%B0%E5%9B%BE/%E5%AE%98%E6%96%B9%E6%89%A9%E5%B1%95%E5%8C%85%E2%80%94%E2%80%94%E6%96%B0%E5%A2%9E%E7%93%A6%E7%89%87%E7%B1%BB%E5%9E%8B/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%93%A6%E7%89%87/CustomRuleTile.cs)
先创建自定义规则脚本，随后便可在Project窗口右键创建CustomRuleTile
![[Pasted image 20240921171531.png]]