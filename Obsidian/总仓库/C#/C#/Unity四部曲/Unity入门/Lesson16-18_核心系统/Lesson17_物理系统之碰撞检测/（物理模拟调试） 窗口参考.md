# Physics Debug （物理模拟调试） 窗口参考

使用 Physics Debug （物理调试） 窗口可以配置和生成场景中 3D 物理活动的可视化表示。这些可视化显示在 [Scene 视图中](https://docs.unity.cn/cn/2022.2/Manual/UsingTheSceneView.html)。

要在 Unity 编辑器中打开 Physics Debug 窗口，请转到 **Window** > **Analysis** > **Physics Debugger**。

Physics Debugger 在 Scene 视图中插入一个 [Physics 调试面板](https://docs.unity.cn/cn/2022.2/Manual/PhysicsDebugVisualization.html#physics-debug-panel)，并打开一个 Physics Debug 窗口，其中包含以下选项卡：

- **[Info](https://docs.unity.cn/cn/2022.2/Manual/PhysicsDebugVisualization.html#physics-debug-info)**：Track Rigidbody 和 Articulation Body 信息。质心和惯性张量可视化也可以在这里找到。
- **[Filtering](https://docs.unity.cn/cn/2022.2/Manual/PhysicsDebugVisualization.html#physics-debug-filtering)**：确定应显示哪些物理对象。
- **[Rendering](https://docs.unity.cn/cn/2022.2/Manual/PhysicsDebugVisualization.html#physics-debug-rendering)**：定义 Unity 如何渲染和显示物理效果的设置。
- **[联系人](https://docs.unity.cn/cn/2022.2/Manual/PhysicsDebugVisualization.html#physics-debug-contacts)**：选择是否应可视化联系人。
- **[查询](https://docs.unity.cn/cn/2022.2/Manual/PhysicsDebugVisualization.html#physics-debug-queries)**：选择是否应可视化查询。

要将 Physics Debug （物理调试） 窗口恢复为默认设置，请选择 **Reset （重置**）。

有关提高项目中的物理性能的更多信息，请参阅有关 [Physics Profiler](https://docs.unity.cn/cn/2022.2/Manual/ProfilerPhysics.html) 的文档。

## Physics debug 面板

在 Unity 中打开 Physics Debug 窗口时，Physics Debug 面板将显示在 Scene 视图中。默认情况下，它显示在 Scene 视图的右下角;但是，您可以单击并拖动以移动它。

|**属性**|**描述**|
|---|---|
|**碰撞几何体**|启用 **Collision Geometry** 以在 Scene 视图中可视化碰撞信息。禁用 **Collision Geometry** 以在 Scene 视图中隐藏碰撞信息。|
|**鼠标选择**|Enable **Mouse Select （启用鼠标选择**） 以启用鼠标悬停高亮显示和鼠标选择。如果可视化效果中有相互阻碍的大型游戏对象，这将非常有用。|

## 信息

**Info** 选项卡包含有关任何选定[刚体](https://docs.unity.cn/cn/2022.2/Manual/class-Rigidbody.html)或 [ArticulationBody](https://docs.unity.cn/cn/2022.2/Manual/class-ArticulationBody.html) 游戏对象的数据。您可以使用此数据来监控物理物体的行为。您无法在此选项卡中编辑属性值。您可以通过脚本修改它们，但不建议这样做;在大多数情况下，您应该通过 Physics System 应用 Forces 来更改这些值。

要将特定游戏对象永久停靠在 **Info** 选项卡中，请为该游戏对象启用 **Lock**。可以锁定无限数量的游戏对象。使用 **Number of items per row** 属性以最容易导航的方式排列 **Info** 选项卡。

Info （信息） 选项卡始终显示以下属性。

|**属性**|**描述**|
|---|---|
|**每行项目数**|定义要在 **Info** 选项卡的顶行中水平显示的选定游戏对象数。  <br>  <br>默认情况下，如果选择或锁定多个游戏对象，Unity 会垂直显示所有游戏对象。但是，您可以改为水平排列它们。使用 **Number of items per row（每行项目数**）可定义在一个水平行上彼此相邻显示的游戏对象数，最多可显示 10 个。  <br>  <br>如果选定或锁定的游戏对象的数量超过此数量，则最近选定的游戏对象将显示在第一个游戏对象下方的新行上。  <br>  <br>游戏对象始终按选择顺序显示在 **Info** 选项卡中。此属性的默认值为 1。|
|**跟踪对象**|显示当前显示在 **Info** 选项卡中的唯一游戏对象的总数。这包括选定的游戏对象和锁定的游戏对象。它不包括重复项。|
|**清除锁定的对象**|选择 **Clear locked objects** 可对所有游戏对象禁用 **Lock**。这会从 **Info** 选项卡中删除尚未在 Hierarchy 窗口中选择的任何游戏对象。|

在 Hierarchy 中选择具有物理实体（即[刚](https://docs.unity.cn/cn/2022.2/Manual/class-Rigidbody.html)体或 [ArticulationBody](https://docs.unity.cn/cn/2022.2/Manual/class-ArticulationBody.html)）的游戏对象**时，Info** 选项卡会显示以下属性。

|**属性**|**描述**|
|---|---|
|**游戏对象**|显示以下属性引用的选定或锁定游戏对象的名称。|
|**绘制 Gizmo**|选择 Physics Debug 应显示其 Gizmo 的物理属性。|
|- **质心**|显示一个 Gizmo，该 Gizmo 指示物理物体的全局质心的位置（请参阅**世界质心**）。|
|- **惯性张量**|显示一个 Gizmo，该 Gizmo 指示物理物体的 Inertia Tensor 的旋转和缩放（请参阅 **Inertia Tensor**）。|
|**锁**|启用 **Lock** 可将游戏对象保留在 **Info** 选项卡中，即使未在 Hierarchy 窗口中选择它。|
|**速度**|物理物体的移动速度，以米/秒 （m/s） 为单位。|
|**速度**|物理物体沿每个矢量的速度，以米/秒 （m/s） 为单位。|
|**角速度**|物理物体沿每个向量的速度，以度/秒为单位。|
|**惯性张量**|此物理物体的惯性张量。与质量一样，惯性张量定义使物理物体移动所需的力或扭矩;但是，质量影响线性运动，而惯性张量影响旋转运动。**Inertia Tensor** 值越高，使物理物体绕其轴旋转所需的扭矩就越大。|
|**惯性张量旋转**|惯性张量的旋转。默认情况下，Unity 根据附加到物理形体的所有碰撞器自动计算惯性张量旋转。|
|**局部质心**|物理物体质心沿每个向量的局部位置。要通过脚本更改质心，请使用 。Unity 还可以根据碰撞体放置来更改它。`centerOfMass`|
|**世界质心**|物理物体的质心沿每个向量的全局位置。要通过脚本更改质心，请使用 。Unity 还可以根据碰撞体放置来更改它。`worldCenterOfMass`|
|**睡眠状态**|物理物体的睡眠状态。如果物理实体处于唤醒状态并包含在物理计算中，则显示 **Awake （唤醒**）。如果物理实体处于休眠状态，并且未包含在物理计算中，则显示 **Asleep**。|
|**睡眠阈值**|物理形体的能量阈值，低于该阈值时，物理引擎将停止在物理更新中包含该形体。默认情况下，这是[在全局 Physics 设置](https://docs.unity.cn/cn/2022.2/Manual/class-PhysicsManager.html)中定义的 **Sleep Threshold** 值。|
|**最大线速度（Max Linear Velocity）**|物理物体可以达到的最大线速度，由 定义。`maxLinearVelocity`|
|**最大角速度（Max Angular Velocity）**|物理物体可以达到的最大旋转速度，由 定义。`maxAngularVelocity`|
|**求解器迭代**|物理系统解算器需要对此物理形体执行的迭代次数。|
|**求解器速度迭代**|物理系统解算器需要对此物理形体执行的速度迭代次数。这会使重叠游戏对象的出口速度更接近正确的值，同时考虑到接触弹跳。|
|**身体指数**|树中的 Articulation Body 索引。此属性仅对 Articulation Bodies 显示。|

## 滤波

**Filtering** 选项卡包含用于配置在 Physics Debug 可视化中显示的物理元素的属性。

|**属性**|**描述**|
|---|---|
|**Show Physics Scene**|如果要包含在可视化中的物理场景（如果一次加载[了多个物理场景](https://docs.unity.cn/cn/2022.2/Manual/physics-multi-scene.html)）。|
|**显示 Unity 场景**|如果要包含在可视化效果中的 Unity 场景（如果一次加载[了多个场景](https://docs.unity.cn/cn/2022.2/Manual/MultiSceneEditing.html)）。|
|**显示图层**|选择要在可视化中显示的 [Layers](https://docs.unity.cn/cn/2022.2/Manual/Layers.html)。|
|**显示静态碰撞器**|启用 **Show Static Colliders （显示静态碰撞体**） 可显示没有刚体组件的碰撞体的可视化效果。禁用 **Show Static Colliders** 以删除没有刚体组件的碰撞体的可视化效果。|
|**显示触发器**|启用 **Show Triggers （显示触发器**） 可显示作为触发器的碰撞体的可视化效果。禁用 **Show Triggers （显示触发器**） 以删除作为触发器的碰撞体的可视化效果。|
|**显示刚体**|启用 **Show Rigidbodies** 以显示[刚体](https://docs.unity.cn/cn/2022.2/Manual/class-Rigidbody.html)组件的可视化效果。禁用 **Show Rigidbodies** 以删除刚体组件的可视化效果。|
|**显示运动学体**|启用 **Show Kinematic Bodies （显示运动刚体**） 可显示具有 Kinematic Rigidbody 组件的碰撞体的可视化效果。禁用 **Show Kinematic Bodies （显示运动刚体**） 以删除具有 Kinematic Rigidbody （运动刚体） 组件的碰撞体的可视化效果。|
|**显示接合体**|启用 **Show Articulation Bodies** 以显示 [ArticulationBody](https://docs.unity.cn/cn/2022.2/Manual/class-ArticulationBody.html) 零部件的可视化。禁用 **Show Articulation Bodies** 以删除 ArticulationBody 组件的可视化。|
|**显示沉睡的身体**|启用 **Show Sleeping Bodies （显示休眠刚体**） 可显示具有 Sleeping Rigidbody （休眠刚体） 组件的碰撞体的可视化效果。禁用 **Show Sleeping Body** 以删除具有 Sleeping Rigidbody 组件的碰撞体的可视化效果。|
|**碰撞体类型**|使用这些选项可在物理特性可视化中显示特定的 Collider 类型。|
|- **显示 BoxColliders**|启用 **Show BoxColliders （显示盒碰撞体**） 以显示[盒碰撞体](https://docs.unity.cn/cn/2022.2/Manual/class-BoxCollider.html)的可视化效果。禁用 **Show BoxColliders （显示盒碰撞器**） 以删除盒碰撞体的可视化效果。|
|- **Show SphereColliders**|启用 **Show SphereColliders （显示球体碰撞器**） 以显示[球体碰撞体](https://docs.unity.cn/cn/2022.2/Manual/class-SphereCollider.html)的可视化效果。禁用 **Show SphereColliders （显示球体碰撞器**） 以删除球体碰撞体的可视化效果。|
|- **显示 CapsuleColliders**|启用 **Show CapsuleColliders （显示胶囊碰撞器**） 以显示[胶囊碰撞器](https://docs.unity.cn/cn/2022.2/Manual/class-CapsuleCollider.html)的可视化效果。禁用 **Show CapsuleColliders （显示胶囊碰撞器**） 以删除胶囊碰撞器的可视化效果。|
|- **Show MeshColliders （convex） （显示网格碰撞器（凸面））**|启用 **Show MeshColliders （convex） （显示网格碰撞体 （凸面）**） 以显示启用了 **Is Convex （凸面**） 属性的[网格碰撞体](https://docs.unity.cn/cn/2022.2/Manual/class-MeshCollider.html)的可视化效果。禁用 **Show MeshColliders （convex） （显示网格碰撞体 （凸面）**） 以删除启用了 **Is Convex （凸面**） 属性的网格碰撞体的可视化效果。|
|- **Show MeshColliders （concave） （显示网格碰撞器（凹面））**|启用 **Show MeshColliders （concave） （显示网格碰撞体 （凹面）**） 以显示禁用了 **Is Convex （凸面**） 属性的[网格碰撞体](https://docs.unity.cn/cn/2022.2/Manual/class-MeshCollider.html)的可视化效果。禁用 **Show MeshColliders （concave） （显示网格碰撞器（凹面）**） 以删除禁用了 **Is Convex （凸面**） 属性的网格碰撞体的可视化效果。|
|- **显示 TerrainColliders**|启用 **Show TerrainColliders （显示地形碰撞器**） 以显示[地形碰撞器](https://docs.unity.cn/cn/2022.2/Manual/class-TerrainCollider.html)的可视化效果。禁用 **Show TerrainColliders** 以删除地形碰撞体的可视化效果。|
|- **无显示**|选择 **Show None （不显示）** 以清除所有筛选条件并从可视化中删除所有碰撞对象。|
|- **显示全部**|选择 **Show All （全部显示**） 以启用所有筛选器并显示所有碰撞体的可视化效果。|

## 渲染

**Rendering** 选项卡包含用于配置 Unity 渲染和显示物理效果可视化方式的属性。

|**属性**|**描述**|
|---|---|
|**静态碰撞体**|选择一种颜色来表示可视化效果中的静态碰撞体（没有刚体组件的碰撞体）。|
|**触发器**|选择一种颜色来表示在可视化中也是 Triggers 的 Colliders。|
|**刚体**|选择一种颜色以在可视化效果中表示[刚体](https://docs.unity.cn/cn/2022.2/Manual/class-Rigidbody.html)组件。|
|**运动体**|从可视化中选择一种颜色来表示运动学刚体组件。物理系统不控制运动学刚体组件。|
|**关节体**|选择一种颜色以在可视化中表示 [Articulation Body （铰接实体） 组件](https://docs.unity.cn/cn/2022.2/Manual/class-ArticulationBody.html)。|
|**沉睡的身体**|从可视化中选择一种颜色来表示休眠刚体组件（当前未与物理引擎交互）。|
|**变化**|定义所选颜色与随机颜色混合的程度。使用此选项可以按颜色直观地分隔碰撞体，并查看游戏对象的结构。该值介于 0 和 1 之间，默认情况下设置为 0.15。|
|**透明度**|在可视化中设置绘制的碰撞几何体的透明度。该值介于 0 和 1 之间，默认情况下设置为 0.5。|
|**强制过度绘制**|启用 **Force Overdraw （强制过度绘制**） 以在可视化效果中的渲染几何体之上显示碰撞器几何体。如果渲染几何体遮挡了碰撞器可视化，这将非常有用。禁用 **Force Overdraw （强制过度绘制**） 以显示碰撞器几何体相对于摄像机的显示方式。|
|**View Distance**|设置可视化的 view distance。默认情况下，此字段设置为 1000。该值以单位为单位进行测量，在 Unity 中默认为 1m。|
|**地形瓦片最大**|设置可视化中 [Terrain](https://docs.unity.cn/cn/2022.2/Manual/script-Terrain.html) 瓦片的最大数量。默认情况下，此参数设置为 60。|
|**Gizmo 设置**|配置 **Info** 选项卡控制的 Physics Debug 小工具。|
|- **恒定的屏幕尺寸**|启用 **Constant screen size （固定屏幕大小**） 可使 Physics Debug （物理调试） Gizmo 在屏幕上与摄像机的任何距离都显示相同大小。禁用 **Constant screen size （恒定屏幕大小**） 以使 Gizmo 的大小随透视缩放。|
|- **Inertia Tensor scale （惯性张量缩放）**|定义 Inertia Tensor 向量 3 的乘以值。如果 Inertia Tensor 特别大，这很有用;例如，如果您需要可视化和观察向量分量的比率。|

## 接触

**Contacts** 选项卡包含用于配置在 Physics Debug 可视化中显示的联系人数据以及用于不同类型触点的颜色的属性。

|**属性**|**描述**|
|---|---|
|**显示联系人**|启用 **Show Contacts** 以显示联系人的可视化效果。|
|- **显示所有联系人**|启用 **Show All Contacts （显示所有接触）** 以在 Physics Debug （物理调试） 可视化中显示所有碰撞接触数据的可视化。禁用 **Show All Contacts** 以限制 Physics Debug 可视化中显示的联系人数据。  <br>禁用 **Show All Contacts （显示所有联系人**） 后，可视化中仅显示以下联系人：  <br>- 具有从 、 或 接收消息的脚本的碰撞体  <br>- 将属性设置为 true 的碰撞体。`MonoBehaviour``OnCollisionEnter``OnCollisionSay``OnCollisionExit``providesContact`|
|- **显示脉冲**|启用 **Show Impulse** 以在可视化中显示一个箭头，表示接触点脉冲。禁用 **Show Impulse** 以删除脉冲可视化。|
|- **显示分离**|启用 **Show Separation** 可在可视化中显示表示接触点分离的区段和光盘。禁用 **Show Separation** 以删除分离可视化。|
|- **使用筛选设置**|启用 **Use Filtering settings （使用筛选设置**） 以使用 **Filtering （筛选**） 选项卡中的设置来筛选传入联系人可视化。禁用 **Use filtering settings （使用筛选设置**） 以仅使用 **Contacts （联系人**） 选项卡中的设置。|
|**触点颜色**|选择 Unity 应在可视化效果中使用的颜色，以指示碰撞接触数据。|
|**使用不同的颜色**|启用 **Use varied colors （使用不同颜色**） 可为每个接触的碰撞体对使用随机颜色。禁用 **Use varied colors** 以使用以下属性中定义的三种颜色（**Contact color（接触颜色**）、**Contact separation color** 和 **Contact impulse color（接触脉冲颜色**））。|
|**触点颜色**|选择一种颜色来表示联系人。这在可视化中显示为一个箭头，该箭头从接触点开始，面向接触法线。|
|**触点分离颜色**|选择一种颜色来表示触点分离。这在可视化中显示为区段和光盘。|
|**触点脉冲颜色**|选择一种颜色来表示接触脉冲。这在可视化中显示为指向法线方向的箭头，其长度等于脉冲的长度。|

## 查询

**Queries （查询**） 选项卡包含用于配置在 Physics Debug 可视化中显示的查询类型及其显示方式的属性。有关 PhysX 查询的信息，请参阅有关[场景查询](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/SceneQueries.html)和[几何体查询](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/GeometryQueries.html)的 NVIDIA PhysX 文档。

| **属性**    | **描述**                                                                                                                                                                                                                                                                       |
| --------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **显示查询**  | 启用 **Show queries （显示查询**） 以显示物理查询的可视化。                                                                                                                                                                                                                                      |
| **查询颜色**  | 选择 Unity 应在可视化效果中使用的颜色，以指示物理查询。                                                                                                                                                                                                                                              |
| **显示形状**  | 选择要在 Physics Debug （物理调试） 可视化效果中显示的查询形状。启用查询形状以在可视化效果中显示该形状的查询。禁用查询形状以从可视化中删除该形状的查询。  <br>  <br>选项包括：  <br>- **箱**形查询  <br>- **胶囊**体形状查询  <br>- **碰撞体**形状查询  <br>- **射线**形查询                                                                                                 |
| **显示类型**  | 选择要在可视化中显示的查询类型。启用查询类型以在可视化中显示该类型的查询。禁用查询类型以从可视化中删除该类型的查询。有关 PhysX 查询类型的信息，请参阅有关[几何查询的](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/GeometryQueries.html) NVIDIA PhysX 文档。  <br>  <br>选项包括：  <br>- **重叠**查询  <br>- **检查**查询  <br>- **强制转换**查询 |
| **最大查询数** | 定义 Physics Debug 一次可以可视化的最大查询数。默认情况下，此值设置为 100。                                                                                                                                                                                                                              |
| **无显示**   | 选择 **Show None** 以清除所有筛选条件，并在可视化中隐藏所有查询形状和类型。                                                                                                                                                                                                                                |
| **显示全部**  | 选择 **Show All** 以启用所有筛选条件，并在可视化效果中显示所有查询形状和类型。                                                                                                                                                                                                                               |