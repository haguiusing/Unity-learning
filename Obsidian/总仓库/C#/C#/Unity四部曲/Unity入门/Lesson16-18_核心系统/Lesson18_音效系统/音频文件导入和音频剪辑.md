![[音频导入参数1.png]]
![[音频导入参数2.png]]
# Unity常用音效格式

1.Unity支持的音效文件格式包括WAV、MP3、OGG和AIFF。 
2.AIFF有简写aif，但常用的是前三种格式，特别是MP3。

有关压缩格式以及音频数据编码时可以使用的其他选项的详细描述，请参阅[音频剪辑](https://docs.unity3d.com/cn/current/Manual/class-AudioClip.html)文档。

导入到 Unity 中的任何音频文件都可以作为__音频剪辑__实例在脚本中获取，因此可让音频系统在游戏运行时能够访问经过编码的音频数据。游戏可以在实际音频数据加载之前通过音频剪辑来访问有关音频数据的元数据信息。之所以能实现这一点，是因为导入过程已从编码的音频数据中提取了各种信息，例如长度、声道数和采样率，并将其存储在音频剪辑中。这在创建自动对话或音乐排序系统时可能很有用，因为音乐引擎可以在实际加载数据之前使用关于长度的信息来安排音乐播放。此外，由于只需将某一时间需要的音频剪辑保留在内存中，因此还有助于减少内存使用量。

支持的格式

|**_格式_**|**_扩展名_**|
|---|---|
|MPEG layer 3|.mp3|
|Ogg Vorbis|.ogg|
|Microsoft Wave|.wav|
|音频交换文件格式|.aiff / .aif|
|Ultimate Soundtracker 模块|.mod|
|Impulse Tracker 模块|.it|
|Scream Tracker 模块|.s3m|
|FastTracker 2 模块|.xm|

有关在 Unity 中使用声音的更多信息，请参阅[音频概述](https://docs.unity3d.com/cn/current/Manual/AudioOverview.html)。
# 音频剪辑

音频剪辑包含[音频源](https://docs.unity3d.com/cn/current/Manual/class-AudioSource.html)使用的音频数据。Unity 支持单声道、立体声和多声道音频资源（最多 8 个声道）。 您可以在 Unity 中导入以下音频文件格式：.aif、.wav、.mp3 和 .ogg。Unity 还支持导入 .xm、.mod、.it 和 .s3m 格式的[跟踪器模块](https://docs.unity3d.com/cn/current/Manual/TrackerModules.html)。跟踪器模块资源的行为方式与 Unity 中的任何其他音频资源相同，但资源导入检查器中没有可用的波形预览。

![音频剪辑检视面板 （Inspector）](https://docs.unity3d.com/cn/current/uploads/Main/AudioClipImporter50.png)

音频剪辑检视面板 （Inspector）

## 选项

**Force To Mono**
启用此选项后，多声道音频将在打包前混合为单声道。

**Normalize**(**正常化**)
启用此选项后，音频将在“Force To Mono”（强制为单声道）混合过程中被[标准化](https://en.wikipedia.org/wiki/Audio_normalization)。

**Load In Background**(**加载背景**)
启用此选项后，剪辑的加载将在单独的线程上延时进行，不会阻止主线程。音频较大时开启能防止卡顿。

**Ambisonics （环境立体声）**
Ambisonics 音频源以一种格式存储音频，该格式表示可以根据听者的方向旋转的声场。它对 360 度视频和 XR 应用程序很有用。如果您的音频文件包含 Ambisonics 编码的音频，请启用此选项。

## 属性

| **属性：**                             |             | **功能：**                                                                                                                                                                                                                                                                                                                      |
| ----------------------------------- | ----------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **负载类型**                            |             | Unity 在运行时用于加载音频资源的方法。                                                                                                                                                                                                                                                                                                       |
|                                     | **加载时解压缩**  | 音频文件在加载后立即解压缩。对于较小的压缩声音，请使用此选项，以避免动态解压缩的性能开销。请注意，在加载时解压缩 Vorbis 编码的声音将使用大约是保持压缩状态的 10 倍的内存（对于 ADPCM 编码，大约是 3.5 倍），因此请不要对大文件使用此选项。                                                                                                                                                                                            |
|                                     | **在内存中压缩**  | 将音频压缩在内存中，并在播放时解压缩。此选项具有轻微的性能开销，尤其是对于 Ogg/Vorbis 压缩文件。仅将其用于 Decompressed on Load （加载时解压缩） 消耗过多内存的文件。解压缩发生在混音器线程上，可以在 Profiler 窗口的 Audio 窗格的 DSP CPU 部分中进行监控。                                                                                                                                                                 |
|                                     | **流**       | 解码连续音频。此方法使用最少的内存来缓冲从磁盘增量读取并自发解码的压缩数据。解压缩发生在单独的流式处理线程上，可以在分析器窗口的 Audio 窗格的 Streaming CPU 部分中监控该线程的 CPU 使用率。**注意**：流剪辑的开销约为 200KB，即使未加载任何音频数据也是如此。                                                                                                                                                                            |
| **压缩格式**                            |             | 在运行时将用于声音的特定格式。 请注意，可用选项取决于当前选定的构建目标。                                                                                                                                                                                                                                                                                        |
|                                     | **相变材料**    | 此选项以较大的文件大小为代价提供更高的质量，最适合用于较短的音效。                                                                                                                                                                                                                                                                                            |
|                                     | **ADPCM**   | 此格式适用于大量噪音和需要大量播放的声音（例如脚步声、撞击声、武器声音）。 较之于 PCM，压缩能力提高 3.5 倍，但 CPU 使用率远低于 MP3/Vorbis 格式，因此成为上述声音类别的最佳压缩方案。                                                                                                                                                                                                                     |
|                                     | **沃比斯/MP3** | 压缩使文件减小，但与 PCM 音频相比，质量降低。 可通过 Quality 滑动条来配置压缩量。 此格式最适合中等长度的音效和音乐。                                                                                                                                                                                                                                                           |
| **采样率设置**                           |             | PCM 和 ADPCM 压缩格式允许自动优化或手动降低采样率。                                                                                                                                                                                                                                                                                              |
|                                     | **保留采样率**   | 此设置可保持采样率不变（默认值）。                                                                                                                                                                                                                                                                                                            |
|                                     | **优化采样率**   | 此设置根据分析的最高频率内容自动优化采样率。                                                                                                                                                                                                                                                                                                       |
|                                     | **覆盖采样率**   | 此设置允许手动覆盖采样率，因此可以有效地使用它来丢弃频率内容。                                                                                                                                                                                                                                                                                              |
| **Force To Mono**                   |             | 启用后，音频剪辑将向下混合为单声道声音。在下混之后，信号被峰值归一化，因为下混过程通常会导致信号比原始信号更安静。峰值归一化信号通过 [AudioSource](https://docs.unity3d.com/cn/current/Manual/class-AudioSource.html) 的 volume 属性为以后的调整提供了动态余量。                                                                                                                                                |
| **Load In Background**(**加载背景**)    |             | 启用后，音频剪辑将在后台加载，而不会导致主线程停顿。默认情况下，此选项处于禁用状态，以确保标准 Unity 行为，即所有音频剪辑在场景开始播放后立即完成加载。仍在后台加载的音频剪辑上的播放请求将延迟到剪辑加载完毕。您可以通过属性查询加载状态。`AudioClip.loadState`                                                                                                                                                                               |
| **Preload Audio Data**（**预加载音频数据**） |             | 启用后，将在加载场景后预加载音频剪辑。默认情况下，此选项处于启用状态，以反映标准 Unity 行为，即场景开始播放后，所有音频剪辑都完成加载。如果未设置此标志，则音频数据将在第一个 / 上加载，或者可以通过 .`[AudioSource](class-AudioSource.html).Play()``[AudioSource](class-AudioSource.html).PlayOneShot()``[AudioSource](class-AudioSource.html).LoadAudioData()``[AudioSource](class-AudioSource.html).UnloadAudioData()` |
| **Quality**（**质量**）                 |             | 确定要应用于压缩剪辑的压缩量。不适用于 PCM/ADPCM/HEVAG 格式。可以在 Inspector 中查看有关文件大小的统计信息。调整此值的一个好方法是将滑块拖动到一个位置，使播放保持“足够好”，同时保持文件足够小以满足您的分发要求。请注意，原始大小与原始文件有关，因此，如果这是一个 MP3 文件，并且 Compression Format 设置为 PCM （uncompressed），则生成的 Ratio 将大于 100%，因为该文件现在是未压缩的存储，并且比它来自的源 MP3 占用更多的空间。                                                               |

## 预览窗口

Preview （预览） 窗口包含以下图标：

- ![打开/关闭自动播放](https://docs.unity3d.com/cn/current/uploads/Main/AudioPreviewAuto.png)- 当 Auto Play （自动播放） 处于打开状态时，Clip 会在被选中后立即播放。
    
- ![打开/关闭 Loop](https://docs.unity3d.com/cn/current/uploads/Main/AudioPreviewLoop.png)- 当 Loop 打开时，Clip 将连续循环播放。
    
- ![玩](https://docs.unity3d.com/cn/current/uploads/Main/AudioPreviewPlay.png)- 播放选定的 Clip。
    

## 导入音频资源

Unity 支持多种源文件格式。每当导入文件时，Unity 都会转码为适合构建目标和声音类型的格式。您可以通过检查器中的 Compression Format （压缩格式） 设置来选择此项。

通常，PCM 和 Vorbis/MP3 格式更适合使声音尽可能接近原始声音。PCM 对 CPU 的要求很轻，因为声音是未压缩的，只能从内存中读取。Vorbis/MP3 允许通过 Quality 滑块对可听不到的信息进行自适应丢弃。

ADPCM 介于内存和 CPU 使用率之间，因为它使用的 CPU 仅比未压缩的 PCM 选项略多，但会产生恒定的 3.5 压缩系数，这通常比使用 Vorbis 或 MP3 压缩实现的压缩差 3 倍左右。此外，ADPCM（如 PCM）允许使用自动优化或手动设置的采样率，这取决于声音的频率内容和可接受的质量损失，可以进一步缩小打包的声音资产的大小。

模块文件 （.mod，.it，.s3m..XM） 能够以极低的占用空间提供高质量。使用模块文件时，除非你特别需要，否则请确保将 Load Type 设置为 Compressed In Memory，因为如果将其设置为 Decompress On Load，则整首歌曲将被解压缩。

作为一般经验法则，_压缩_音频（或模块）最适合背景音乐或对话等长文件，而 _PCM_ 和 _ADPCM_ 更适合包含一些噪声的短音效，因为 _ADPCM_ 的伪影在平滑信号上太明显。您应该使用 compression 滑块调整 Compression （压缩） 量。从高质量压缩开始，逐渐降低设置，直到可以察觉到音质损失的程度。然后，再次稍微增加它，直到感知到的质量损失消失。

## 特定于平台的详细信息

- Unity 支持导入各种源格式的声音文件。但是，在导入这些文件（跟踪链接文件除外）时，它们始终会重新编码为 build 目标格式。默认情况下，此格式为 Vorbis，但如果需要，可以按平台将其覆盖为其他格式（ADPCM、MP3 等）。
- 对于 Linux 上的音频剪辑支持，请确保您已安装 [ffmpeg](https://ffmpeg.org/) 包。